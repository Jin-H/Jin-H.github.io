设计模式---原型模式

一、什么是原型模式

> **原型模式**是创建型模式的一种，其特点在于通过“复制”一个已经存在的实例来返回新的实例,而不是新建实例。被复制的实例就是我们所称的“原型”，这个原型是可定制的。

二、原型模式

> 这个真的没啥可说的，和`jdk`中的`clone`几乎就是一样的，在这里不做过多介绍了，如果想要了解一下的可以看看我之前的博客。

![image-20180916104827916](https://ws3.sinaimg.cn/large/006tNc79gy1fvb6tz4aiuj31kw09v41p.jpg)

在这个简单的例子中我们摒弃了很多细节，比如`PrototypeA`中没有任何的属性，仅仅是一个空对象。

假设`PrototypeA`对象中有其他的属性，我们的`clone`方法又应该怎么设计？这里就涉及到了一个通用的概念，叫做拷贝。拷贝分为两种一种是深拷贝，一种是浅拷贝。不明白这个的可以看看我之前的博客([深拷贝与浅拷贝](https://jin-h.github.io/2018/09/15/Java-%E6%B7%B1%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B5%85%E6%8B%B7%E8%B4%9D/))，或者使用搜索引擎搜索一下。

三、总结

1.当需要`clone`的原型对象较为复杂(引用类型的属性较多)的时候，原型模式比`new`对象效率较高

2.原型模式中所有对象必须包含`clone`方法(缺点)

3.涉及到的源码已上传至`Github`([设计模式](https://github.com/Jin-H/design-pattern))

四、引用文章和书籍

1.[wiki原型模式](https://zh.wikipedia.org/wiki/%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F)

